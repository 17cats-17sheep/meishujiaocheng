# 模型规范

## 制作流程：

![img](https://arkimg.ark.online/1730277790314-1.png)

## 模型部分：

- 换装模型分为上装，下装，鞋子，手套，头发五个部件，五部分独立制作。
- 如果不需要拆分前后发可以按照完整发型制作。
- 换装部件需要符合换装规范，以便不同部件之间可以切换搭配
- 皮肤部分模型：不能修改UV和服装衔接处布线，其他位置可随意修改布线。
- 皮肤部分和衣服部分需区分不同的材质ID。
- 单个服装部件，包含皮肤材质，最多支持三个材质球。

### 推荐面数：

- 推荐面数包含合并到服装部件上的裸模部分。
- 制作头发模型时，前发+后发/完整发型/丝状头发三种做法可以任选其一。

|          |          | 上衣+身体裸模 | 手套+手裸模 | 下装+腿裸模 | 鞋子+脚裸模 | 常规发型+发饰 | 丝状头发+发饰 |     整套      |
| :------: | :------: | :-----------: | :---------: | :---------: | :---------: | :-----------: | :-----------: | :-----------: |
| 局外模型 | 最大面数 |     10000     |    4000     |    3500     |    2000     |     7500      |     10000     | 30000（以内） |
| 局内模型 | 最大面数 |     2500      |    1800     |    1700     |    1500     |     2500      |     3000      | 7500（以内）  |

### 模型制作：

- 服装部件需要对齐裸模基础布线，避免穿插
- 服装部件需要对齐裸模换装拆分线，匹配换装规则
- 换装拆分线位置附近禁止穿插（且布必须和裸模对齐）  
  
  ![img](https://arkimg.ark.online/1725852243023-1.png)
- **换装规则中的模型仅供范围参考，不作为布线规范或者造型参考使用。**

- 服装遮盖部分的裸模模型需要删掉，服装与裸模衔接的地方需要点对点吸附，并且焊接在一起
  
  ![img](https://arkimg.ark.online/1725852243024-2.png)
- 材质不支持双面显示，需要通过模复制型实现双面显示
- 模型完成后检查顶点色Alpha是否为纯白色，如果不是可能会导致进游戏后勾边错乱。

#### 模型小Tip

光滑组设置

- 正确设置光滑组，会让模型看起来更好看，光影效果更正确。

![img](https://arkimg.ark.online/1725852243025-16.png)

消除身体分界线

- 服装与基础裸模的Normal不一致时，部件之间接缝处会有明显的分界线。
- 通过3ds MAX中的Edit Normal功能，统一模型法线。
- 换装部件之间接缝处，需要匹配裸模的模型法线。

![img](https://arkimg.ark.online/1725852243026-17.png)

### 服装各部件换装规范

#### 上装部分

- 上装范围（参考换装范围文件）
  
  ![img](https://arkimg.ark.online/1725852243024-3.png)
- 上装，下装模型不够到裸模拆分线位置的，需要用裸模补齐。
- 裸模和服装相接处，顶点需要焊接在一起

![img](https://arkimg.ark.online/1725852243024-4.png)

- 皮带，裤子需要匹配上装范围

![img](https://arkimg.ark.online/1725852243024-5.png)

- 上装部件需被上装范围覆盖。

![img](https://arkimg.ark.online/1725852243024-6.png)

- 手腕关节线必须和上衣范围一致，袖子需包裹手套范围。

![img](https://arkimg.ark.online/1725852243024-7.png)

#### 下装部分

- 鞋子、袜子长度超过膝盖时，裸模腿脚拆分线以上部分袜子归为**下装部件。**
- 归为下装部件后，最底部布线需要和裸模切口一致（需完全一致）
- 膝盖和膝盖以下部分需要和裸模布线保持一致。

![img](https://arkimg.ark.online/1725852243024-8.png)

- 常规服装布线尽量和裸模布线方向一致可避免不必要的穿帮。

![img](https://arkimg.ark.online/1725852243024-9.png)

- 下装需被皮带范围和裤子范围包
- 皮带需被皮带范围包裹

![img](https://arkimg.ark.online/1725852243025-10.png)

#### 鞋子部分

- 鞋子、袜子长度未过膝盖时，袜子和鞋子拆分为**鞋子部件。**
- 膝盖和膝盖以下部分需要和裸模布线保持一致。
- 模型需要刚刚包裹住腿部裸模
- 脚的基础裸模可以删掉。

![img](https://arkimg.ark.online/1725852243025-11.png)

- 所有鞋子都需要备裤子包裹

![img](https://arkimg.ark.online/1725852243025-12.png)

- 鞋子本身需被鞋靴范围包裹，长靴长袜需和裸模布线保持一致。

![img](https://arkimg.ark.online/1725852243025-13.png)

#### 手套部分

- 手套分为长款和短款。
- 短款手套结束在手部切口线位置
- 长款，短款都不能超出手套范围

![img](https://arkimg.ark.online/1725852243025-14.png)

#### 发型

##### 常规发型。

- 常规二次元类发型。
- 渲染不支持双面显示。模型需要制作双面

##### 丝状头发（实验效果）

- 渲染材质不支持双面显示，所以需要模型制作双面
- 被遮挡部分保持单面即可

#### 动态骨骼部件（裙摆，袖摆，披风）

- 需要制作动态骨骼的部分，模型需要单独拆出。
- 切口保持在裸模切口处
- 仅做模型拆分，方便后续绑定。材质和UV还以模型所属部件分配。
- 例：连衣裙的裙摆属于上装部分的动态骨骼模型

![img](https://arkimg.ark.online/1725852243025-15.png)

## UV部分：

### 换装资源UV（服装+常规发型）

- 根据不同的换装部件拆分UV。（上装，下装，鞋子，手套，常规发型）
- 裸模部分模型，单独给一个材质ID，UV不需要改动。（模型需要和服装合并）
- 仅需要1套UV集，裸模皮肤UV与服装UV全放置与UV通道1中。通过不同材质ID区分
  
  ![img](https://arkimg.ark.online/1725852243026-18.png)
- UV须要放置于第1象限
- 推荐资源使用1套贴图制作
- UV尽量完整，确保足够的扩边值。

![img](https://arkimg.ark.online/1725852243026-19.jpeg)

#### 视频教学

<video controls src="https://arkimg.ark.online/%E6%8D%A2%E8%A3%85%E8%B5%84%E6%BA%90UV(%E6%9C%8D%E8%A3%85%E5%92%8C%E5%B8%B8%E8%A7%84%E5%8F%91%E5%9E%8B).mp4" />

### 丝状发型UV（实验效果）

- 需要多UV来实现，根据功能需求需要制作2个UV

#### UV1：配合UE中的材质实现头发的渐变效果和保持高光位置一致

- 头发UV的精度需要保持一致。不能有拉伸。

![img](https://arkimg.ark.online/1725852243026-20.png)

- 为了保证渐变效果合理，UV需要使用提供的彩色贴图对齐头发UV。UV需要尽量打直，使竖向高光纹理无拉伸，并且顺头发走势变化。竖向高光纹理能够表现出发束的感觉

![img](https://arkimg.ark.online/1725852243026-21.png)

- 根据实际情况，增加相邻头发UV之间的错落（渐变色不用对的太整齐），让变色看起来更丰富

![img](https://arkimg.ark.online/1725852243026-22.png)

#### UV2：头发法线

- 可以配合丝状法线来增强发丝效果。

![img](https://arkimg.ark.online/1730183136341-2.png)

- 也可全展UV烘焙高模法线

![img](https://arkimg.ark.online/1730183136341-1.png)

#### 视频教学

<video controls src="https://arkimg.ark.online/%E4%B8%9D%E4%B8%9D%E5%A4%B4%E5%8F%91UV.mp4" />

## 资源整理

### 模型命名

#### 局外

- 命名格式：SK_Cartoon _ 性别 _ 部件 _ 资源编号_Show
  -  例如：

  -   女性上装：SK_Cartoon_Famale_Body_ 资源编号_Show

  -   女性下装：SK_Cartoon_Female_Leg_ 资源编号_Show

  -   女性鞋袜：SK_Cartoon_Female_Foot_ 资源编号_Show

  -   女性手套：SK_Cartoon_Female_Hand_ 资源编号_Show

  -   头发模型：SK_Cartoon_Famale_HairB_ 资源编号_Show
- 动态骨骼部分：所接部分命名+Widget(a,b,c)

例如：SK_Cartoon_Famale_Body_ 资源编号_Show_Widget(a,b,c)

#### 局内

- 命名格式：SK_Cartoon_ 性别_ 部件_资源编号
  -   例如：

  -   女性上装：SK_Cartoon_Famale_Body_资源编号

  -   女性下装：SK_Cartoon_Female_Leg_资源编号

  -   女性鞋袜：SK_Cartoon_Female_Foot_资源编号

  -   女性手套：SK_Cartoon_Female_Hand_资源编号

  -   头发模型：SK_Cartoon_Famale_HairB_资源编号

- 动态骨骼部分：所接部分命名+Widget(a,b,c)

例如：SK_Cartoon_Famale_Body_ 资源编号_ Widget(a,b,c)

### 材质球：

- 材质命名需符合材质插槽规范，需要在3Dmax、Maya等DCC软件中赋予材质，并且命名正确。
- 错误命名可能会导致材质表现错乱
- 局内局外资源材质插槽命名规则相同。

|     上装     |   ClothUpper    |
| :----------: | :-------------: |
|   上衣透贴   | ClothUpper_Mask |
|     下装     |   ClothLower    |
|   下装透贴   | ClothLower_Mask |
|     手套     |      Glave      |
|   手套透贴   |   Glave_Mask    |
|     鞋子     |   ClothShoes    |
|   鞋子透贴   | ClothShoes_Mask |
| 身体部分裸模 |      Body       |
|     头发     |      Hair       |
|     发饰     |     HairAcc     |
|   发饰透贴   |  HairAcc_Mask   |

### 资源整理：

#### 模型检查

- 检查3dsMax中单位设置是否是**厘米**
- 检查模型坐标是否在**世界坐标中心**，并且**-Y轴向前**
- 检查资源列表中是否有**无用的模型，空组**等，如果有请删除。
- 检查是否存在错误的双面，破面，破点，5边及以上的多边面
- 检查模型**光滑组**是否设置正确
- 检查各个衔接部分的**模型法线**，确保和**裸模保持一致**。
- 检查各个部件是否有赋予材质球，并且材质球命名正确。
- 检查UV数量是否正确

#### FBX输出

- FBX导出设置
  - 此处导出模型，仅可作为材质效果验证或制作相关贴图使用。

<img src="https://arkimg.ark.online/1725852243026-32.png" alt="img" style="zoom: 80%;" />